@mixin mq($type) {
	
	@media all and (max-width: map-get($breakpoints, $type)) {
		@content;
	}
}

@mixin size($width: null, $height: null,
	$tablet-width: null, $tablet-height: null,
	$mobile-width: null, $mobile-height: null) {

	width: $width;
	height: $height;

	@include mq(tablet) {
		width: $tablet-width;
		height: $tablet-height;
	}

	@include mq(mobile) {
		width: $mobile-width;
		height: $mobile-height;
	}
}

@mixin position($position,
	$top: null,
	$right: null,
	$bottom: null,
	$left: null) {

  position: $position;
  top: $top;
  right: $right;
  bottom: $bottom;
  left: $left;
}

@mixin absolute($args...) {
	@include position(absolute, $args...);
}

@mixin relative($args...) {
	@include position(relative, $args...);
}

@mixin fixed($args...) {
	@include position(fixed, $args...);
}

@mixin box($color) {
	display: flex;
	flex: none;
	border: none;
	border-radius: $border-radius;
	background-color: $color;
	box-shadow: $shadow-radius $shadow-radius $shadow-radius $black-trans;
}

@mixin graph($w, $h) {
	display: flex;
	flex-wrap: wrap;

	.graph-x-axis {
		display: flex;
		flex-direction: row;
		width: calc(100% - #{$w});
		height: $h;
		order: 3;

		> .graph-x-axis-tick {
			@extend %graph-x-axis-tick;
		}
	}

	.graph-y-axis {
		display: flex;
		flex-direction: column-reverse;
		width: $w;
		height: calc(100% - #{$h});
		order: 2;

		> .graph-y-axis-tick {
			@extend %graph-y-axis-tick;
		}
	}

	.graph {
		width: calc(100% - #{$w});
		height: calc(100% - #{$h});
		order: 1;
		@include relative;

		// Use flexbox to ensure no horizontal gaps between bars due to rounding
		// errors
		display: flex;
		align-items: flex-end;

		> .BG {
			@include dot;
		}

		> .TBR {
			@include bar(TBR, $purple, 3%)
		}

		> .B {
			@include square($blue, 20%);
		}
	}

	.graph-NA {
		width: $w;
		height: $h;
		order: 4;
	}
}

@mixin dot($color: null, $degree: null) {
	@include absolute;
	width: 2 * $radius-dot;
	height: 2 * $radius-dot;
	border: $border-radius-dot solid $black;
	border-radius: 50%;
	background-color: $color;
	cursor: pointer;
	z-index: 10;

	@if $degree {
		&:hover {
			background-color: darken($color, $degree);
		}
	}

	@include mq("tablet") {
		width: 2 * $tablet-radius-dot;
		height: 2 * $tablet-radius-dot;
		border-size: $tablet-border-radius-dot;
	}

	@include mq("mobile") {
		width: 2 * $mobile-radius-dot;
		height: 2 * $mobile-radius-dot;
		border-size: $mobile-border-radius-dot;
	}
}

@mixin square($color: null, $degree: null) {
	@include dot($color, $degree);
	border-radius: 0;
}

@mixin bar($bar, $color: null, $degree: null) {
	display: flex;
	overflow: hidden;
	border-top: 2px solid $black;
	border-bottom: 2px solid $black;
	background-color: $color;
	cursor: pointer;
	z-index: 5;

	@if $degree {
		&:hover {
			background-color: darken($color, $degree);
		}
	}

	&.first-#{$bar} {

	}

	&.last-#{$bar} {
		display: none;
	}

	> .inner-#{$bar} {
		width: 50%;

		&:first-child {
			border-left: 2px solid $black;
		}

		&:last-child {
			border-right: 2px solid $black;
		}
	}
}